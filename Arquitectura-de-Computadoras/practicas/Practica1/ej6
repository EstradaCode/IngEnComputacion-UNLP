// EN MAIN
org 1000h
NUM1 DB 3; ESTE ES EL CONTADOR
NUM2 DB 5; ESTE ES LA CANT
RES DB 0

org 3000h 
ORG 2000H
MOV AL,NUM1
MOV AH, NUM2
MOV BX, OFFSET RES
MOV CX, 0 
VERIF: CMP AL,0
JZ POR0
CMP AH,0
JZ POR0
LOOP: ADD CL, AH
DEC AL
JNZ LOOP
FIN: MOV [BX], CL
POR0: hlt 
end

// POR REGISTROS Y DEV REGISTRO
org 1000h
NUM1 DB 3; ESTE ES EL CONTADOR
NUM2 DB 5; ESTE ES LA CANT
RES DB 0

org 3000h 
MUL: PUSH AX
VERIF: CMP AL,0
JZ FIN
CMP AH,0
JZ FIN
LOOP: ADD CL, AH
DEC AL
JNZ LOOP
FIN:POP AX
RET;

ORG 2000H
MOV AL,NUM1
MOV AH, NUM2
MOV BX, OFFSET RES
MOV CX, 0
CALL MUL
MOV [BX], CL
hlt 
end
// POR REF Y DEV REGISTRO
org 1000h
NUM1 DB 3; ESTE ES EL CONTADOR
NUM2 DB 5; ESTE ES LA CANT
RES DB 0
; PARAM POR REF REG
; REG POR VALOR
org 3000h 
MUL: PUSH AX
PUSH BX 
PUSH DX
MOV BX,AX
MOV AL, [BX]
MOV BX, DX
MOV AH, [BX]
VERIF: CMP AL,0
JZ FIN
CMP AH,0
JZ FIN
LOOP: ADD CL, AH
DEC AL
JNZ LOOP
FIN: POP DX
POP BX
POP AX
RET;

ORG 2000H
MOV AX, OFFSET NUM1
MOV DX, OFFSET NUM2
MOV BX, OFFSET RES
MOV CX, 0; PARAMETRO DE DEVOLUCION
CALL MUL
MOV [BX], CL
hlt 
end
// POR VALOR PILA Y DEV REG
org 1000h
NUM1 DB 3; ESTE ES EL CONTADOR
NUM2 DB 5; ESTE ES LA CANT
RES DB 0
; PARAM POR VALOR PILA
; REG POR VALOR
org 3000h 
MUL: PUSH BX
MOV BX, SP
ADD BX, 4
PUSH AX
MOV AX, [BX]
VERIF: CMP AL,0
JZ FIN
CMP AH,0
JZ FIN
LOOP: ADD CL, AH
DEC AL
JNZ LOOP
FIN:POP AX
POP BX
RET;

ORG 2000H
MOV AL, NUM1
MOV AH, NUM2
PUSH AX
MOV BX, OFFSET RES
MOV CX, 0; PARAMETRO DE DEVOLUCION
CALL MUL
MOV [BX], CL
hlt 
end

// por ref PILA Y DEV REG
org 1000h
NUM1 DB 3; ESTE ES EL CONTADOR
NUM2 DB 5; ESTE ES LA CANT
RES DB 0
; PARAM POR VALOR PILA
; REG POR VALOR
org 3000h 
MUL: PUSH BX
MOV BX, SP
ADD BX, 4
PUSH AX
DATOS: PUSH BX
MOV BX,[BX]; AX TIENE NUM2
MOV AH, [BX]; 
POP BX
ADD BX, 2
MOV BX, [BX]
MOV AL,[BX]; AL TIENE NUM1
VERIF: CMP AL,0
JZ FIN
CMP AH,0
JZ FIN
LOOP: ADD CL, AH
DEC AL
JNZ LOOP
FIN:POP AX
POP BX
RET;

ORG 2000H
MOV AX, OFFSET NUM1
MOV BX, OFFSET NUM2
PUSH AX
PUSH BX
MOV CX, 0; PARAMETRO DE DEVOLUCION
CALL MUL
POP BX
POP AX
MOV RES, CL
hlt 
end
